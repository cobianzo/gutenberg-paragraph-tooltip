(()=>{"use strict";var t,e={945:(t,e,o)=>{o.d(e,{b:()=>v,G:()=>f});const r=window.wp.data,n=window.wp.domReady;var l=o.n(n);const i=window.wp.i18n,c=".components-popover__content",u=()=>{const t=document.querySelector(`${c} .block-editor-link-control__settings`);return t?t.closest(c):null},s=(t,e)=>{const o=(0,r.select)("core/block-editor").getSelectedBlockClientId();let n=null,l=null,i=null;if(!o)return[null,null,null];if(n=(0,r.select)("core/block-editor").getBlock(o),n){const{attributes:o}=n,r=o.content;i=(new DOMParser).parseFromString(r,"text/html"),i.querySelectorAll("a").forEach((o=>{o.href.replace(/\/$/,"")===t.replace(/\/$/,"")&&o.textContent===e&&(l=o)}))}return[l,i,o]},a=(t,e,o)=>{const[n,l,i]=s(e,o);if(!n||!l)return;""===t?n.removeAttribute(v):n.setAttribute(v,t);const c=(new XMLSerializer).serializeToString(l.body).replace(/<(\/?)body(.*?)>/g,"").trim();(0,r.dispatch)("core/block-editor").updateBlockAttributes(i,{content:c})},p=(t,e)=>{const o=document.createElement("input");return o.type="text",o.placeholder="Enter tooltip text",o.autocomplete="off",o.id=f,o.className="tooltip-input",o.addEventListener("input",(()=>{e?.setAttribute("aria-disabled","false"),e?.addEventListener("click",(()=>{setTimeout((()=>{const e=t?.querySelector(".block-editor-link-control__search-actions button");e&&e.click()}),500)}))})),o},d=()=>{const t=document.createElement("label");return t.textContent=(0,i.__)("Special tooltip","gutenberg-tooltip"),t.setAttribute("for",f),t.className="components-base-control__label",t},b=new Map,f="inspector-input-control-tooltip",v="data-tooltip";let m=null,g=null;l()((()=>{const t=(0,r.subscribe)((()=>{const e=Array.from(document.querySelectorAll(".popover-slot"));if(e.length>0){t();const o=new MutationObserver((t=>{if([...b.keys()].find((t=>b.get(t)===o)))for(const e of t)if("childList"===e.type){const t=u();if(!t)return;const e=t instanceof HTMLElement?t.querySelector("fieldset.block-editor-link-control__settings"):null;if(!e)return;if(t.querySelector(`input#${f}`))return;if("true"===e.getAttribute("data-observerTooltip"))return;e.setAttribute("data-observerTooltip","true"),setTimeout((()=>{if(m=t?.querySelector(".components-text-control__input")?.value,g=t?.querySelector(".components-input-control__input")?.value,!m||!g)return void console.error("No previous values for link url and content",m,g);const o=t?.querySelector("button.block-editor-link-control__search-submit"),r=d(),n=p(t,o),[l]=s(g,m);l&&(n.value=l.getAttribute(v)||""),e.appendChild(r),e.appendChild(n),o&&!o.getAttribute("data-listenerTooltip")?(o.addEventListener("click",(()=>{const e=t?.querySelector(`#${f}`)?.value||"";setTimeout((()=>{a(e,g||"",m||"")}),1e3)})),o.setAttribute("data-listenerTooltip","true")):console.error("Save button not found")}),1e3)}}));e.forEach((t=>{o.observe(t,{childList:!0,subtree:!0}),b.set(t,o)}))}}))}))}},o={};function r(t){var n=o[t];if(void 0!==n)return n.exports;var l=o[t]={exports:{}};return e[t](l,l.exports,r),l.exports}r.m=e,t=[],r.O=(e,o,n,l)=>{if(!o){var i=1/0;for(a=0;a<t.length;a++){for(var[o,n,l]=t[a],c=!0,u=0;u<o.length;u++)(!1&l||i>=l)&&Object.keys(r.O).every((t=>r.O[t](o[u])))?o.splice(u--,1):(c=!1,l<i&&(i=l));if(c){t.splice(a--,1);var s=n();void 0!==s&&(e=s)}}return e}l=l||0;for(var a=t.length;a>0&&t[a-1][2]>l;a--)t[a]=t[a-1];t[a]=[o,n,l]},r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={57:0,350:0};r.O.j=e=>0===t[e];var e=(e,o)=>{var n,l,[i,c,u]=o,s=0;if(i.some((e=>0!==t[e]))){for(n in c)r.o(c,n)&&(r.m[n]=c[n]);if(u)var a=u(r)}for(e&&e(o);s<i.length;s++)l=i[s],r.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return r.O(a)},o=globalThis.webpackChunkgutenberg_paragraph_tooltip=globalThis.webpackChunkgutenberg_paragraph_tooltip||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))})();var n=r.O(void 0,[350],(()=>r(945)));n=r.O(n)})();
(()=>{"use strict";var e,t={945:(e,t,o)=>{o.d(t,{b:()=>v,G:()=>f});const r=window.wp.data,n=window.wp.domReady;var l=o.n(n);const i=window.wp.i18n,c=".components-popover__content",u=()=>{const e=document.querySelector(`${c} .block-editor-link-control__settings`);return e?e.closest(c):null},s=(e,t)=>{const o=(0,r.select)("core/block-editor").getSelectedBlockClientId();let n=null,l=null,i=null;if(!o)return[null,null,null];if(n=(0,r.select)("core/block-editor").getBlock(o),n){const{attributes:o}=n,r=o.content;i=(new DOMParser).parseFromString(r,"text/html"),i.querySelectorAll("a").forEach((o=>{o.href.replace(/\/$/,"")===e.replace(/\/$/,"")&&o.textContent===t&&(l=o)}))}return[l,i,o]},a=(e,t,o)=>{const[n,l,i]=s(t,o);if(!n||!l)return;""===e?n.removeAttribute(v):n.setAttribute(v,e);const c=(new XMLSerializer).serializeToString(l.body).replace(/<(\/?)body(.*?)>/g,"").trim();(0,r.dispatch)("core/block-editor").updateBlockAttributes(i,{content:c})},p=(e,t)=>{const o=document.createElement("input");return o.type="text",o.placeholder="Enter tooltip text",o.autocomplete="off",o.id=f,o.className="tooltip-input",o.addEventListener("input",(()=>{t?.setAttribute("aria-disabled","false"),t?.addEventListener("click",(()=>{setTimeout((()=>{const t=e?.querySelector(".block-editor-link-control__search-actions button");t&&t.click()}),500)}))})),o},d=()=>{const e=document.createElement("label");return e.textContent=(0,i.__)("Special tooltip","gutenberg-tooltip"),e.setAttribute("for",f),e.className="components-base-control__label",e},b=new Map,f="inspector-input-control-tooltip",v="data-tooltip";let m=null,g=null;l()((()=>{const e=(0,r.subscribe)((()=>{const t=Array.from(document.querySelectorAll(".popover-slot"));if(t.length>0){e();const o=new MutationObserver((e=>{if([...b.keys()].find((e=>b.get(e)===o)))for(const t of e)if("childList"===t.type){const e=u();if(!e)return;const t=e instanceof HTMLElement?e.querySelector("fieldset.block-editor-link-control__settings"):null;if(!t)return;if(e.querySelector(`input#${f}`))return;if("true"===t.getAttribute("data-observerTooltip"))return;t.setAttribute("data-observerTooltip","true"),setTimeout((()=>{if(m=e?.querySelector(".components-text-control__input")?.value,g=e?.querySelector(".components-input-control__input")?.value,!m||!g)return void console.error("No previous values for link url and content",m,g);const o=e?.querySelector("button.block-editor-link-control__search-submit"),r=d(),n=p(e,o),[l]=s(g,m);l&&(n.value=l.getAttribute(v)||""),t.appendChild(r),t.appendChild(n),o&&!o.getAttribute("data-listenerTooltip")?(o.addEventListener("click",(()=>{const t=e?.querySelector(`#${f}`)?.value||"";setTimeout((()=>{a(t,g||"",m||"")}),1e3)})),o.setAttribute("data-listenerTooltip","true")):console.error("Save button not found")}),1e3)}}));t.forEach((e=>{o.observe(e,{childList:!0,subtree:!0}),b.set(e,o)}))}}))}))}},o={};function r(e){var n=o[e];if(void 0!==n)return n.exports;var l=o[e]={exports:{}};return t[e](l,l.exports,r),l.exports}r.m=t,e=[],r.O=(t,o,n,l)=>{if(!o){var i=1/0;for(a=0;a<e.length;a++){o=e[a][0],n=e[a][1],l=e[a][2];for(var c=!0,u=0;u<o.length;u++)(!1&l||i>=l)&&Object.keys(r.O).every((e=>r.O[e](o[u])))?o.splice(u--,1):(c=!1,l<i&&(i=l));if(c){e.splice(a--,1);var s=n();void 0!==s&&(t=s)}}return t}l=l||0;for(var a=e.length;a>0&&e[a-1][2]>l;a--)e[a]=e[a-1];e[a]=[o,n,l]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var n,l,i=o[0],c=o[1],u=o[2],s=0;if(i.some((t=>0!==e[t]))){for(n in c)r.o(c,n)&&(r.m[n]=c[n]);if(u)var a=u(r)}for(t&&t(o);s<i.length;s++)l=i[s],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(a)},o=self.webpackChunkgutenberg_paragraph_tooltip=self.webpackChunkgutenberg_paragraph_tooltip||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var n=r.O(void 0,[350],(()=>r(945)));n=r.O(n)})();